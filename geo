<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen: Potencias Económicas y Sistemas Globales</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .instructions {
            background-color: #f0f8ff;
            padding: 20px;
            border-left: 5px solid #3498db;
            margin: 20px;
            border-radius: 8px;
        }
        
        .instructions h3 {
            color: #1a2980;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .exam-info {
            display: flex;
            justify-content: space-between;
            background-color: #eef2f7;
            padding: 15px 20px;
            margin: 0 20px;
            border-radius: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .question-container {
            padding: 25px;
        }
        
        .question {
            background-color: #f9f9f9;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .question:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .question-number {
            font-weight: 700;
            color: #1a2980;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .question-text {
            margin-bottom: 20px;
            font-size: 1.05rem;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        @media (min-width: 768px) {
            .options {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background-color: white;
            border: 2px solid #e1e5eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background-color: #f0f7ff;
            border-color: #a0c4ff;
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #2196f3;
        }
        
        .option.correct {
            background-color: #e8f5e9;
            border-color: #4caf50;
        }
        
        .option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
        }
        
        .option input {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .actions {
            display: flex;
            justify-content: center;
            padding: 20px;
            gap: 20px;
        }
        
        button {
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #submit-btn {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: white;
        }
        
        #submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(38, 208, 206, 0.3);
        }
        
        #reset-btn {
            background-color: #f5f5f5;
            color: #333;
            border: 2px solid #ddd;
        }
        
        #reset-btn:hover {
            background-color: #e0e0e0;
        }
        
        .results-container {
            display: none;
            padding: 30px;
            text-align: center;
            background-color: #f9f9f9;
            border-radius: 10px;
            margin: 20px;
        }
        
        .score-display {
            font-size: 3.5rem;
            font-weight: 800;
            color: #1a2980;
            margin: 20px 0;
        }
        
        .score-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            color: #555;
        }
        
        .details {
            text-align: left;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .details h3 {
            color: #1a2980;
            margin-bottom: 15px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #1a2980, #26d0ce);
            width: 0%;
            transition: width 1s ease-in-out;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #777;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .highlight {
            background-color: #fffacd;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Examen: Potencias Económicas y Sistemas Globales</h1>
            <p class="subtitle">Test basado en las presentaciones de Geografía Económica</p>
            <p class="subtitle">35 preguntas | -0.25 por error | Puntuación sobre 10</p>
        </header>
        
        <div class="instructions">
            <h3>Instrucciones:</h3>
            <ul>
                <li>Este examen consta de <span class="highlight">35 preguntas tipo test</span> basadas en el contenido de las presentaciones PowerPoint.</li>
                <li>Cada pregunta tiene <span class="highlight">cuatro opciones</span>, pero solo una es correcta.</li>
                <li>Por cada respuesta incorrecta se restarán <span class="highlight">0.25 puntos</span>.</li>
                <li>Las preguntas sin respuesta no restan ni suman puntos.</li>
                <li>Al finalizar, haz clic en <span class="highlight">"Corregir Examen"</span> para ver tu puntuación sobre 10.</li>
                <li>Puedes reiniciar el examen en cualquier momento con el botón <span class="highlight">"Reiniciar Examen"</span>.</li>
            </ul>
        </div>
        
        <div class="exam-info">
            <div>Total preguntas: <span id="total-questions">35</span></div>
            <div>Respondidas: <span id="answered">0</span></div>
            <div>Puntuación máxima: <span id="max-score">10</span></div>
        </div>
        
        <div class="question-container" id="questions-container">
            <!-- Las preguntas se insertarán aquí mediante JavaScript -->
        </div>
        
        <div class="actions">
            <button id="submit-btn">Corregir Examen</button>
            <button id="reset-btn">Reiniciar Examen</button>
        </div>
        
        <div class="results-container" id="results-container">
            <h2>Resultados del Examen</h2>
            <div class="score-display" id="final-score">0.00</div>
            <div class="score-text" id="score-message"></div>
            
            <div class="progress-bar">
                <div class="progress" id="score-progress"></div>
            </div>
            
            <div class="details">
                <h3>Detalles de la corrección:</h3>
                <p>Respuestas correctas: <span id="correct-answers">0</span> / 35</p>
                <p>Respuestas incorrectas: <span id="incorrect-answers">0</span></p>
                <p>Preguntas sin responder: <span id="unanswered">35</span></p>
                <p>Penalización por errores: <span id="penalty">0.00</span> puntos</p>
                <p>Puntuación bruta: <span id="raw-score">0.00</span> / 10</p>
            </div>
        </div>
        
        <div class="footer">
            <p>Examen creado a partir del contenido de las presentaciones: "Las Potencias Económicas Tradicionales", "Las Nuevas Potencias del Siglo XXI", "El Desarrollo Humano", "Los Sistemas Económicos", "Los Agentes Económicos"</p>
            <p>Geografía Económica - Curso 2023/2024</p>
        </div>
    </div>

    <script>
        // Preguntas del examen basadas en los archivos PPTX
        const questions = [
            {
                id: 1,
                question: "¿Qué países constituían las potencias económicas tradicionales hasta finales del siglo XX?",
                options: [
                    "Estados Unidos, China y la Unión Europea",
                    "Estados Unidos, Japón y la Unión Europea",
                    "China, India y Japón",
                    "Rusia, Estados Unidos y Japón"
                ],
                correct: 1,
                theme: "Potencias Tradicionales"
            },
            {
                id: 2,
                question: "¿Qué controlaban principalmente las potencias económicas tradicionales?",
                options: [
                    "Solo las finanzas mundiales",
                    "La mayor parte de la producción, exportaciones, tecnología y finanzas",
                    "Principalmente los recursos naturales",
                    "Exclusivamente el comercio internacional"
                ],
                correct: 1,
                theme: "Potencias Tradicionales"
            },
            {
                id: 3,
                question: "¿Cuál NO es un factor que explica el predominio de las potencias económicas tradicionales?",
                options: [
                    "Alto nivel tecnológico con inversiones en I+D+I",
                    "Elevada calidad educativa y sanitaria",
                    "Infraestructuras de transporte y telecomunicaciones eficaces",
                    "Alta tasa de crecimiento demográfico"
                ],
                correct: 3,
                theme: "Potencias Tradicionales"
            },
            {
                id: 4,
                question: "¿En qué áreas se centra actualmente el desarrollo tecnológico de las potencias tradicionales?",
                options: [
                    "Energía nuclear y aeronáutica",
                    "Nanotecnología, inteligencia artificial e Internet de las cosas",
                    "Agricultura intensiva y biotecnología",
                    "Industria pesada y siderurgia"
                ],
                correct: 1,
                theme: "Potencias Tradicionales"
            },
            {
                id: 5,
                question: "¿Cuál es una razón por la que las potencias tradicionales tienen actualmente un crecimiento menor?",
                options: [
                    "Aumento de la natalidad y población joven",
                    "Deslocalización de la producción hacia países en desarrollo",
                    "Mayor ventaja tecnológica que en el pasado",
                    "Reducción del endeudamiento público"
                ],
                correct: 1,
                theme: "Potencias Tradicionales"
            },
            {
                id: 6,
                question: "¿Qué países se encuentran a la cabeza de las economías emergentes en el siglo XXI?",
                options: [
                    "Brasil y México",
                    "China e India",
                    "Indonesia y Turquía",
                    "Rusia y Sudáfrica"
                ],
                correct: 1,
                theme: "Nuevas Potencias"
            },
            {
                id: 7,
                question: "¿Por qué China fue la única potencia que creció económicamente en 2020 según la presentación?",
                options: [
                    "Por sus reservas de petróleo",
                    "Gracias a las exportaciones, al mercado interno y a sus políticas económicas",
                    "Debido a la ayuda económica internacional",
                    "Por la disminución de la competencia mundial"
                ],
                correct: 1,
                theme: "Nuevas Potencias"
            },
            {
                id: 8,
                question: "¿Qué sector tiene más potencial en la economía india?",
                options: [
                    "Sector agrícola",
                    "Sector industrial pesado",
                    "Sector servicios, especialmente TIC e informática",
                    "Sector minero y energético"
                ],
                correct: 2,
                theme: "Nuevas Potencias"
            },
            {
                id: 9,
                question: "¿Qué caracteriza a las potencias económicas regionales?",
                options: [
                    "Tienen más peso económico que los países de su entorno pero no son potencias mundiales",
                    "Son las economías más grandes del mundo",
                    "No participan en el comercio internacional",
                    "Tienen un crecimiento menor que los países desarrollados"
                ],
                correct: 0,
                theme: "Nuevas Potencias"
            },
            {
                id: 10,
                question: "¿Qué es el G20 o Grupo de los Veinte?",
                options: [
                    "Una organización militar internacional",
                    "Un grupo de países con las mayores reservas de oro",
                    "El principal foro internacional para la cooperación económica y financiera",
                    "Una alianza de países en desarrollo"
                ],
                correct: 2,
                theme: "Nuevas Potencias"
            },
            {
                id: 11,
                question: "¿Qué porcentaje del PIB mundial generan los países del G20?",
                options: [
                    "50%",
                    "65%",
                    "75%",
                    "85%"
                ],
                correct: 3,
                theme: "Nuevas Potencias"
            },
            {
                id: 12,
                question: "¿Qué es el desarrollo humano según la presentación?",
                options: [
                    "Solo el crecimiento económico de un país",
                    "La capacidad de un país para generar riqueza y bienestar en el conjunto de su población",
                    "Exclusivamente el nivel educativo de la población",
                    "La industrialización de un país"
                ],
                correct: 1,
                theme: "Desarrollo Humano"
            },
            {
                id: 13,
                question: "¿Con qué concepto se relaciona el desarrollo humano por no poder mantenerse en el tiempo si hay agotamiento de recursos?",
                options: [
                    "Competitividad",
                    "Globalización",
                    "Sostenibilidad",
                    "Productividad"
                ],
                correct: 2,
                theme: "Desarrollo Humano"
            },
            {
                id: 14,
                question: "¿Cuál de estos NO es un indicador del desarrollo humano mencionado en la presentación?",
                options: [
                    "PIB (Producto Interior Bruto)",
                    "IDH (Índice de Desarrollo Humano)",
                    "Tasa de natalidad",
                    "Índice de desigualdad de género"
                ],
                correct: 2,
                theme: "Desarrollo Humano"
            },
            {
                id: 15,
                question: "¿Qué mide el índice de pobreza multidimensional (IPM)?",
                options: [
                    "Solo los ingresos económicos de los hogares",
                    "Las carencias en los hogares en salud, educación y niveles de vida",
                    "Exclusivamente el acceso a la vivienda",
                    "La distribución de la riqueza en un país"
                ],
                correct: 1,
                theme: "Desarrollo Humano"
            },
            {
                id: 16,
                question: "¿Qué institución elabora anualmente el IDH?",
                options: [
                    "Fondo Monetario Internacional (FMI)",
                    "Banco Mundial",
                    "Programa de Naciones Unidas para el Desarrollo (PNUD)",
                    "Organización para la Cooperación y el Desarrollo Económicos (OCDE)"
                ],
                correct: 2,
                theme: "Desarrollo Humano"
            },
            {
                id: 17,
                question: "¿Qué factores tiene en cuenta el IDH?",
                options: [
                    "Solo el PIB per cápita",
                    "Esperanza de vida, educación y PIB per cápita",
                    "Tasa de empleo y nivel educativo",
                    "Acceso a tecnología y esperanza de vida"
                ],
                correct: 1,
                theme: "Desarrollo Humano"
            },
            {
                id: 18,
                question: "Según el IDH, ¿en cuántos niveles se agrupan los países?",
                options: [
                    "Tres: bajo, medio y alto",
                    "Cuatro: bajo, medio, alto y muy alto",
                    "Dos: desarrollados y subdesarrollados",
                    "Cinco: muy bajo, bajo, medio, alto y muy alto"
                ],
                correct: 1,
                theme: "Desarrollo Humano"
            },
            {
                id: 19,
                question: "¿Qué son los Objetivos de Desarrollo Sostenible (ODS)?",
                options: [
                    "Metas económicas para países desarrollados",
                    "Acuerdos comerciales entre países",
                    "Diecisiete objetivos para erradicar la pobreza, proteger el planeta y asegurar prosperidad",
                    "Indicadores para medir el crecimiento económico"
                ],
                correct: 2,
                theme: "Desarrollo Humano"
            },
            {
                id: 20,
                question: "¿Para qué año deben alcanzarse las metas de los ODS?",
                options: [
                    "2025",
                    "2030",
                    "2040",
                    "2050"
                ],
                correct: 1,
                theme: "Desarrollo Humano"
            },
            {
                id: 21,
                question: "¿Qué es un sistema económico?",
                options: [
                    "La política monetaria de un país",
                    "La forma en que un país organiza la producción y distribución de bienes y servicios",
                    "El conjunto de empresas de un país",
                    "El sistema impositivo de un Estado"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 22,
                question: "¿Cuál de estos NO es un tipo de sistema económico mencionado en la presentación?",
                options: [
                    "Sistema de subsistencia",
                    "Sistema comunista",
                    "Sistema feudal",
                    "Sistema de economía mixta"
                ],
                correct: 2,
                theme: "Sistemas Económicos"
            },
            {
                id: 23,
                question: "¿Qué caracteriza al sistema de subsistencia?",
                options: [
                    "Utiliza tecnología avanzada y obtiene altos rendimientos",
                    "Se basa en el sector primario, usa mano de obra familiar y la producción es para autoconsumo",
                    "Está controlado completamente por el Estado",
                    "Se rige por la ley de oferta y demanda"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 24,
                question: "¿Qué caracteriza al sistema comunista o de economía planificada?",
                options: [
                    "Existe propiedad privada de los medios de producción",
                    "El Estado controla todos los aspectos de la economía y no existe propiedad privada",
                    "Las empresas compiten libremente en el mercado",
                    "Combina economía de mercado con intervención estatal"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 25,
                question: "¿Cuál es un inconveniente del sistema comunista o de economía planificada?",
                options: [
                    "Excesiva competencia entre empresas",
                    "Falta de incentivos para mejorar la producción",
                    "Alta inflación constante",
                    "Desigualdad social extrema"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 26,
                question: "¿Qué país es mencionado como caso particular por tener un sistema político comunista pero económico más abierto al mercado?",
                options: [
                    "Cuba",
                    "Vietnam",
                    "China",
                    "Corea del Norte"
                ],
                correct: 2,
                theme: "Sistemas Económicos"
            },
            {
                id: 27,
                question: "¿Qué caracteriza al sistema capitalista o de economía de mercado?",
                options: [
                    "Propiedad estatal de los medios de producción",
                    "Propiedad privada de los medios de producción y búsqueda del beneficio",
                    "Distribución equitativa de la riqueza",
                    "Control estatal de precios y producción"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 28,
                question: "¿Por qué principio se rigen la cantidad de producción y los precios en el sistema capitalista?",
                options: [
                    "Por decisiones estatales",
                    "Por la ley de la oferta y la demanda",
                    "Por acuerdos entre empresas",
                    "Por normas internacionales"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 29,
                question: "¿Cuál es un inconveniente del sistema capitalista mencionado en la presentación?",
                options: [
                    "Falta de flexibilidad en la producción",
                    "Escasez de bienes no rentables",
                    "Exceso de planificación centralizada",
                    "Bajo crecimiento económico"
                ],
                correct: 1,
                theme: "Sistemas Económicos"
            },
            {
                id: 30,
                question: "¿Qué caracteriza al sistema de economía mixta?",
                options: [
                    "Intervención del Estado para corregir desajustes del capitalismo",
                    "Control total del Estado sobre la economía",
                    "Ausencia total de intervención estatal",
                    "Propiedad colectiva de todos los medios de producción"
                ],
                correct: 0,
                theme: "Sistemas Económicos"
            },
            {
                id: 31,
                question: "¿Cuáles son los tres agentes económicos principales según la presentación?",
                options: [
                    "Estado, empresas y bancos",
                    "Empresas, familias y sindicatos",
                    "Estado, empresas y familias",
                    "Familias, bancos y organismos internacionales"
                ],
                correct: 2,
                theme: "Agentes Económicos"
            },
            {
                id: 32,
                question: "¿Cuál es una función del Estado como agente económico?",
                options: [
                    "Producir bienes para obtener beneficio",
                    "Establecer normas generales que rigen las actividades económicas",
                    "Comprar bienes y servicios en el mercado",
                    "Aportar trabajo a cambio de salario"
                ],
                correct: 1,
                theme: "Agentes Económicos"
            },
            {
                id: 33,
                question: "¿Qué hacen las empresas como agentes económicos?",
                options: [
                    "Establecen las normas económicas",
                    "Producen y ofrecen bienes y servicios para obtener un beneficio",
                    "Pagan impuestos y reciben subvenciones",
                    "Compran bienes y servicios en el mercado"
                ],
                correct: 1,
                theme: "Agentes Económicos"
            },
            {
                id: 34,
                question: "¿Cuál es la principal función de las familias como agentes económicos?",
                options: [
                    "Producir bienes y servicios",
                    "Establecer normas económicas",
                    "Aportar trabajo a cambio de salario y comprar bienes y servicios",
                    "Pagar impuestos y conceder subvenciones"
                ],
                correct: 2,
                theme: "Agentes Económicos"
            },
            {
                id: 35,
                question: "¿Para qué se utilizan principalmente los impuestos según la presentación?",
                options: [
                    "Para financiar beneficios de empresas privadas",
                    "Para costear necesidades sociales como pensiones, sanidad e infraestructuras",
                    "Para aumentar los salarios de los funcionarios",
                    "Para subvencionar exclusivamente la educación privada"
                ],
                correct: 1,
                theme: "Agentes Económicos"
            }
        ];

        // Variables del estado del examen
        let userAnswers = new Array(questions.length).fill(null);
        let examSubmitted = false;

        // Inicializar el examen
        document.addEventListener('DOMContentLoaded', function() {
            renderQuestions();
            updateAnsweredCount();
            
            // Event listeners para los botones
            document.getElementById('submit-btn').addEventListener('click', submitExam);
            document.getElementById('reset-btn').addEventListener('click', resetExam);
        });

        // Renderizar todas las preguntas
        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                questionElement.innerHTML = `
                    <div class="question-number">Pregunta ${q.id}: <span style="color: #666; font-size: 0.9rem;">(${q.theme})</span></div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <div class="option" data-question="${index}" data-option="${optIndex}">
                                <input type="radio" id="q${q.id}_opt${optIndex}" name="q${q.id}" data-question="${index}" data-option="${optIndex}">
                                <label for="q${q.id}_opt${optIndex}">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                container.appendChild(questionElement);
            });
            
            // Añadir event listeners a las opciones
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    if (examSubmitted) return;
                    
                    const questionIndex = parseInt(this.getAttribute('data-question'));
                    const optionIndex = parseInt(this.getAttribute('data-option'));
                    
                    // Deseleccionar otras opciones de la misma pregunta
                    document.querySelectorAll(`.option[data-question="${questionIndex}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                        opt.querySelector('input').checked = false;
                    });
                    
                    // Seleccionar esta opción
                    this.classList.add('selected');
                    this.querySelector('input').checked = true;
                    
                    // Guardar la respuesta
                    userAnswers[questionIndex] = optionIndex;
                    updateAnsweredCount();
                });
            });
        }

        // Actualizar contador de preguntas respondidas
        function updateAnsweredCount() {
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            document.getElementById('answered').textContent = answeredCount;
            document.getElementById('unanswered').textContent = questions.length - answeredCount;
        }

        // Calcular la puntuación
        function calculateScore() {
            let correctCount = 0;
            let incorrectCount = 0;
            
            questions.forEach((q, index) => {
                if (userAnswers[index] !== null) {
                    if (userAnswers[index] === q.correct) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });
            
            // Calcular puntuación con penalización
            const rawScore = (correctCount * (10 / questions.length)) - (incorrectCount * 0.25);
            const finalScore = Math.max(0, rawScore).toFixed(2);
            const penalty = (incorrectCount * 0.25).toFixed(2);
            const unansweredCount = questions.length - correctCount - incorrectCount;
            
            return {
                correctCount,
                incorrectCount,
                unansweredCount,
                finalScore,
                penalty,
                rawScore: rawScore.toFixed(2)
            };
        }

        // Enviar examen para corrección
        function submitExam() {
            examSubmitted = true;
            const results = calculateScore();
            
            // Mostrar resultados
            document.getElementById('final-score').textContent = results.finalScore;
            document.getElementById('correct-answers').textContent = results.correctCount;
            document.getElementById('incorrect-answers').textContent = results.incorrectCount;
            document.getElementById('unanswered').textContent = results.unansweredCount;
            document.getElementById('penalty').textContent = results.penalty;
            document.getElementById('raw-score').textContent = results.rawScore;
            
            // Mostrar mensaje según puntuación
            const scoreMessage = document.getElementById('score-message');
            if (parseFloat(results.finalScore) >= 9) {
                scoreMessage.textContent = "¡Excelente trabajo! Dominas completamente los conceptos.";
                scoreMessage.style.color = "#4CAF50";
            } else if (parseFloat(results.finalScore) >= 7) {
                scoreMessage.textContent = "¡Buen trabajo! Tienes un buen conocimiento del tema.";
                scoreMessage.style.color = "#2196F3";
            } else if (parseFloat(results.finalScore) >= 5) {
                scoreMessage.textContent = "Aprobado. Revisa los conceptos que has fallado para mejorar.";
                scoreMessage.style.color = "#FF9800";
            } else {
                scoreMessage.textContent = "Necesitas repasar el material. Revisa las presentaciones y vuelve a intentarlo.";
                scoreMessage.style.color = "#F44336";
            }
            
            // Mostrar progreso
            const progress = document.getElementById('score-progress');
            const percentage = (parseFloat(results.finalScore) / 10) * 100;
            setTimeout(() => {
                progress.style.width = `${percentage}%`;
            }, 100);
            
            // Mostrar contenedor de resultados
            document.getElementById('results-container').style.display = 'block';
            
            // Desplazar hacia los resultados
            document.getElementById('results-container').scrollIntoView({ behavior: 'smooth' });
            
            // Resaltar respuestas correctas e incorrectas
            highlightAnswers();
        }

        // Resaltar respuestas correctas e incorrectas
        function highlightAnswers() {
            questions.forEach((q, index) => {
                const options = document.querySelectorAll(`.option[data-question="${index}"]`);
                
                options.forEach((option, optIndex) => {
                    // Marcar respuesta correcta
                    if (optIndex === q.correct) {
                        option.classList.add('correct');
                    }
                    
                    // Marcar respuesta incorrecta del usuario
                    if (userAnswers[index] !== null && optIndex === userAnswers[index] && optIndex !== q.correct) {
                        option.classList.add('incorrect');
                    }
                    
                    // Deshabilitar interacción
                    option.style.cursor = 'default';
                    option.querySelector('input').disabled = true;
                });
            });
        }

        // Reiniciar examen
        function resetExam() {
            userAnswers = new Array(questions.length).fill(null);
            examSubmitted = false;
            
            // Restablecer interfaz
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.querySelector('input').checked = false;
                option.querySelector('input').disabled = false;
                option.style.cursor = 'pointer';
            });
            
            // Ocultar resultados
            document.getElementById('results-container').style.display = 'none';
            document.getElementById('score-progress').style.width = '0%';
            
            // Actualizar contador
            updateAnsweredCount();
            
            // Desplazar hacia arriba
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
